#>Searches for anim_main with correct ID and selects it with anim_main_menu_sel
execute as @e[type=armor_stand,tag=anim_main] if score @s _anim_ida = $_id_search _anim run tag @s add anim_main_menu_sel
tag @e[type=armor_stand,tag=anim_main_menu_sel] add anim_main_menu

#>if needed anim_main was found, do the following:
#  Get the number of anim_parts connected to anim_main
scoreboard players reset $_idb_exists _anim
execute if entity @e[tag=anim_main_menu_sel] as @e[type=armor_stand,tag=anim_part] if score @s _anim_ida = $_id_search _anim run scoreboard players add $_idb_exists _anim 1
#  Get the number of animations connected to anim_main (FIX)..?


#  Add text to the list with info about the anim_main
execute if score $_get_search _anim matches 1 as @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open1"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model ","color":"gray"},{"nbt":"CustomName","entity":"@s","color":"green","interpret":true},", has ",{"score":{"name":"$_idb_exists","objective":"_anim"}}," connected anim parts"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". ",{"nbt":"CustomName","entity":"@s","color":"green","interpret":true}]
execute if score $_get_search _anim matches 2 as @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open2"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model ","color":"gray"},{"nbt":"CustomName","entity":"@s","color":"green","interpret":true},", has ",{"score":{"name":"$_idb_exists","objective":"_anim"}}," connected anim parts"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". ",{"nbt":"CustomName","entity":"@s","color":"green","interpret":true}]
execute if score $_get_search _anim matches 3 as @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open3"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model ","color":"gray"},{"nbt":"CustomName","entity":"@s","color":"green","interpret":true},", has ",{"score":{"name":"$_idb_exists","objective":"_anim"}}," connected anim parts"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". ",{"nbt":"CustomName","entity":"@s","color":"green","interpret":true}]
execute if score $_get_search _anim matches 4 as @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open4"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model ","color":"gray"},{"nbt":"CustomName","entity":"@s","color":"green","interpret":true},", has ",{"score":{"name":"$_idb_exists","objective":"_anim"}}," connected anim parts"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". ",{"nbt":"CustomName","entity":"@s","color":"green","interpret":true}]
execute if score $_get_search _anim matches 5 as @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open5"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model ","color":"gray"},{"nbt":"CustomName","entity":"@s","color":"green","interpret":true},", has ",{"score":{"name":"$_idb_exists","objective":"_anim"}}," connected anim parts"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". ",{"nbt":"CustomName","entity":"@s","color":"green","interpret":true}]
execute if score $_get_search _anim matches 6 as @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open6"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model ","color":"gray"},{"nbt":"CustomName","entity":"@s","color":"green","interpret":true},", has ",{"score":{"name":"$_idb_exists","objective":"_anim"}}," connected anim parts"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". ",{"nbt":"CustomName","entity":"@s","color":"green","interpret":true}]
execute if score $_get_search _anim matches 7 as @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open7"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model ","color":"gray"},{"nbt":"CustomName","entity":"@s","color":"green","interpret":true},", has ",{"score":{"name":"$_idb_exists","objective":"_anim"}}," connected anim parts"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". ",{"nbt":"CustomName","entity":"@s","color":"green","interpret":true}]

#>else if not found, add text with 'none' to the list 
execute if score $_get_search _anim matches 1 unless entity @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open1"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model with id of ","color":"gray"},{"score":{"name":"$_id_search","objective":"_anim"}}," doesn't exist, click to create new"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". None"]
execute if score $_get_search _anim matches 2 unless entity @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open2"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model with id of ","color":"gray"},{"score":{"name":"$_id_search","objective":"_anim"}}," doesn't exist, click to create new"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". None"]
execute if score $_get_search _anim matches 3 unless entity @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open3"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model with id of ","color":"gray"},{"score":{"name":"$_id_search","objective":"_anim"}}," doesn't exist, click to create new"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". None"]
execute if score $_get_search _anim matches 4 unless entity @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open4"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model with id of ","color":"gray"},{"score":{"name":"$_id_search","objective":"_anim"}}," doesn't exist, click to create new"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". None"]
execute if score $_get_search _anim matches 5 unless entity @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open5"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model with id of ","color":"gray"},{"score":{"name":"$_id_search","objective":"_anim"}}," doesn't exist, click to create new"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". None"]
execute if score $_get_search _anim matches 6 unless entity @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open6"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model with id of ","color":"gray"},{"score":{"name":"$_id_search","objective":"_anim"}}," doesn't exist, click to create new"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". None"]
execute if score $_get_search _anim matches 7 unless entity @e[tag=anim_main_menu_sel] run tellraw @p[tag=anim_user] [{"text":" ","color":"gray","clickEvent":{"action": "run_command","value": "/function anim_edit:gui/main/run/menu3/open7"},"hoverEvent":{"action": "show_text","contents":[{"text":"Anim model with id of ","color":"gray"},{"score":{"name":"$_id_search","objective":"_anim"}}," doesn't exist, click to create new"]}},{"score":{"name":"$_id_search","objective":"_anim"}},". None"]

#>Prepare for another search
scoreboard players add $_get_search _anim 1
scoreboard players add $_id_search _anim 1
tag @e[tag=anim_main_menu_sel,tag=anim_main] remove anim_main_menu_sel 
execute if score $_get_search _anim matches ..7 run function anim_edit:gui/main/run/menu3/get/loop

#>Gamerule
function anim_edit:gamerule